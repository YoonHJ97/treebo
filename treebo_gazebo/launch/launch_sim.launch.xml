<?xml version='1.0'?>
<launch>
  <arg name="world_name" default="empty.world"/>
  <arg name="world" default="$(find-pkg-share treebo_gazebo)/worlds/$(var world_name)"/>
  <arg name="bridge_params" default="$(find-pkg-share treebo_gazebo)/params/treebo_bridge.yaml"/>

  <!-- (선택) 리소스 경로: 나중에 models/ 추가하면 GZ가 찾을 수 있게 -->
  <set_env name="GZ_SIM_RESOURCE_PATH" value="$(find-pkg-share treebo_gazebo)/models"/>

  <!-- 서버(headless) -->
  <include file="$(find-pkg-share ros_gz_sim)/launch/gz_sim.launch.py">
    <arg name="gz_args" value="-r -s -v4 $(var world)"/>
    <arg name="on_exit_shutdown" value="true"/>
  </include>

  <!-- GUI -->
  <include file="$(find-pkg-share ros_gz_sim)/launch/gz_sim.launch.py">
    <arg name="gz_args" value="-g -v4"/>
  </include>

  <!-- 브리지 -->
  <node pkg="ros_gz_bridge" exec="parameter_bridge" name="parameter_bridge" output="screen"
        args="--ros-args -p config_file:=$(var bridge_params)"/>
</launch>
